{% set thumbnailImage = entry.thumbnailImage[0] ?? null %}
{% set thumbnailImageHover = entry.thumbnailImage|length > 1 ? entry.thumbnailImage[1] : thumbnailImage %}
{% set orientation = orientationOverride ?? entry.thumbnailOrientation %}
{% set ideaType = entry.ideaType.one() %}

{% if thumbnailImage %}
  {% if orientation == 'portrait' %}
    {% set transformedImage = craft.imager.transformimage(thumbnailImage, { width: 1116, height: 1504, mode: 'crop' }) %}
    {% set transformedImageHover = craft.imager.transformimage(thumbnailImageHover, { width: 1116, height: 1504, mode: 'crop' }) %}
  {% else %}
    {% set transformedImage = craft.imager.transformimage(thumbnailImage, { width: 1116, height: 640, mode: 'crop' }) %}
    {% set transformedImageHover = craft.imager.transformimage(thumbnailImageHover, { width: 1116, height: 640, mode: 'crop' }) %}
  {% endif %}
{% endif %}

<article class="ideas {{ entry.thumbnailOrientation == 'fullWidth' ? 'md-full' : 'col-md-1-2' }}">
  {% if transformedImage is defined %}
    <a class="-inner js-cursor" href="{{ entry.getUrl() }}">
      <div class="rollover-image">
        <img src="{{ transformedImage.getUrl() }}" alt="{{ thumbnailImage.title }}">
        <img src="{{ transformedImageHover.getUrl() }}" alt="{{ thumbnailImageHover.title }}">
      </div>
    </a>
  {% endif %}

  <div class="idea-meta">
    {% if entry.ideaType|length %}
      <h4 class="category">{{ entry.ideaType.one().title }}</h4>
    {% endif %}
    <h3><a href="{{ entry.getUrl() }}"><span>{{ entry.title }}</span></a></h3>
  </div>

</article>
